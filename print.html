<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>mdbook-repl</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="assets/css/patch.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><li class="part-title">Basics</li><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li class="chapter-item expanded "><a href="usage.html"><strong aria-hidden="true">2.</strong> Usage</a></li><li class="chapter-item expanded "><a href="limitations.html"><strong aria-hidden="true">3.</strong> Limitations</a></li><li class="chapter-item expanded "><a href="for-developers.html"><strong aria-hidden="true">4.</strong> For Developers</a></li><li class="chapter-item expanded affix "><li class="part-title">Languages</li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Python</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="python/intro.html"><strong aria-hidden="true">5.1.</strong> Intro</a></li><li class="chapter-item "><a href="python/examples.html"><strong aria-hidden="true">5.2.</strong> Examples</a></li><li class="chapter-item "><a href="python/packages.html"><strong aria-hidden="true">5.3.</strong> Packages</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Typescript</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="typescript/intro.html"><strong aria-hidden="true">6.1.</strong> Intro</a></li><li class="chapter-item "><a href="typescript/examples.html"><strong aria-hidden="true">6.2.</strong> Examples</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Javascript</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="javascript/intro.html"><strong aria-hidden="true">7.1.</strong> Intro</a></li><li class="chapter-item "><a href="javascript/examples.html"><strong aria-hidden="true">7.2.</strong> Examples</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Lua</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="lua/intro.html"><strong aria-hidden="true">8.1.</strong> Intro</a></li><li class="chapter-item "><a href="lua/examples.html"><strong aria-hidden="true">8.2.</strong> Examples</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">mdbook-repl</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/MR-Addict/mdbook-repl" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="mdbook-repl"><a class="header" href="#mdbook-repl">Mdbook REPL</a></h1>
<p>This is a <a href="https://rust-lang.github.io/mdBook">mdbook</a> real time playground for some programming languages which you can directly execute them in the browser without any server. It's fast and easy to use.</p>
<p>This is mostly inspired by <a href="https://rust-lang.github.io/mdBook/format/mdbook.html#rust-playground">mdbook rust playground</a>, but it's only limited to rust and it's using <a href="https://play.rust-lang.org">https://play.rust-lang.org</a> as its backend compiler server. So I want to make a playground for other languages based on webassembly.</p>
<p>Below is an example of a python code block that can be executed directly in the browser:</p>
<div class="repl" data-id="a7aca254-b110-4fd0-b861-dff8a1f52243" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python"># Python codeblock

print("Hello, world!")
</code></pre>
<p>All the code is <strong>editable</strong> and <strong>runnable</strong>. You can change the code and run it again. The execution is really fast.</p>
<blockquote>
<p>Attention 💥</p>
<p>This playground is still in development and not many languages are supported yet. If you have any ideas or suggestions, please let me know.</p>
</blockquote>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="usage"><a class="header" href="#usage">Usage</a></h1>
<p>This preprocessor is designed to be used with <a href="https://rust-lang.github.io/mdBook">mdbook</a>. If you want to use this repl in your own web project, you can have a look at <a href="for-developers.html">For Developers</a> section.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<p>There two ways to install this preprocessor.</p>
<p>You can install it with <strong>cargo</strong> if you have <a href="https://www.rust-lang.org">rust</a> installed:</p>
<pre><code class="language-sh">cargo install mdbook-repl
</code></pre>
<p>Or you can download the pre built <strong>binary</strong> from <a href="https://github.com/MR-Addict/mdbook-repl/releases">github release page</a>. You should put the binary in your machine's <strong>PATH</strong> after installation.</p>
<p>You can check your installation by running:</p>
<pre><code class="language-sh">mdbook-repl --version
</code></pre>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<p>After installation, you need to add some configurations to your <strong>book.toml</strong> file. Below is an example of the full configuration options for this preprocessor:</p>
<pre><code class="language-toml">[preprocessor.repl]
# iframe url, default is https://mr-addict.github.io/mdbook-repl/embed/
src = "https://mr-addict.github.io/mdbook-repl/embed/"

# python is disabled by default and loading is lazy
python.enable = true
python.loading = "lazy"

# typescript is disabled by default and loading is lazy
typescript.enable = true
typescript.loading = "lazy"

# javascript is disabled by default and loading is lazy
javascript.enable = true
javascript.loading = "lazy"
</code></pre>
<ul>
<li><strong>src</strong>: The url of the repl iframe, the default value is <a href="https://mr-addict.github.io/mdbook-repl/embed/">https://mr-addict.github.io/mdbook-repl/embed/</a>. You can also deploy your own repl server for better performance, see <a href="for-developers.html">For Developers</a> section.</li>
<li><strong>language.enable</strong>: Enable the language for the repl, default value is <strong>false</strong>.</li>
<li><strong>language.loading</strong>: The loading of the language, can be <strong>eager</strong> or <strong>lazy</strong>, default value is <strong>lazy</strong>.</li>
</ul>
<p>For example if you only care about python codeblock, you can only enable python and disable the others:</p>
<pre><code class="language-toml">[preprocessor.repl]
python.enable = true
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<p>You can also specific some options for the each codeblock.</p>
<p><strong>readonly</strong></p>
<p>readonly option will make the codeblock not editable. You can use this option if you want to show some code examples that should not be changed.</p>
<pre><code class="language-markdown">&#96;&#96;&#96;javascript,readonly
// javascript codeblock

console.log("Hello, world!");
&#96;&#96;&#96;</code></pre>
<p>And the codeblock will not be eidtable:</p>
<div class="repl" data-id="b8a55afe-2bc9-4bd3-ab84-52e0b554c3a2" data-readonly="true" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">// javascript codeblock

console.log("Hello, world!");
</code></pre>
<p><strong>norepl</strong></p>
<p>norepl option will make the codeblock not rendered by the preprocessor. You can use this option if you want to show some code examples that should not be executed.</p>
<pre><code class="language-markdown">&#96;&#96;&#96;javascript,norepl
// javascript codeblock

console.log("Hello, world!");
&#96;&#96;&#96;</code></pre>
<p>And it will not be rendered by this preprocessor:</p>
<pre><code class="language-javascript">// javascript codeblock

console.log("Hello, world!");
</code></pre>
<h2 id="shortcuts"><a class="header" href="#shortcuts">Shortcuts</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left"><strong>Shortcut</strong></th><th style="text-align: left"><strong>Description</strong></th></tr></thead><tbody>
<tr><td style="text-align: left">Ctrl + R</td><td style="text-align: left">Run the codeblock and show the result.</td></tr>
<tr><td style="text-align: left">Ctrl + L</td><td style="text-align: left">Clear the output of the codeblock.</td></tr>
</tbody></table>
</div>
<h2 id="language-extensions"><a class="header" href="#language-extensions">Language Extensions</a></h2>
<p>This preprocessor only recongnizes specific extensions for sepecific language. For example, you can only use <strong>python</strong> or <strong>py</strong> codeblock for python code.</p>
<p>Here is the full list of extensions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Language</th><th style="text-align: left">Extensions</th></tr></thead><tbody>
<tr><td style="text-align: left">Python</td><td style="text-align: left">python, py</td></tr>
<tr><td style="text-align: left">TypeScript</td><td style="text-align: left">typescript, ts</td></tr>
<tr><td style="text-align: left">JavaScript</td><td style="text-align: left">javascript, js</td></tr>
</tbody></table>
</div>
<h2 id="performance"><a class="header" href="#performance">Performance</a></h2>
<p>There is no doubt that the execution of the code is really fast compared with backend server playgrounds. However, the bottleneck is the loading time of the codeblock. The loading time is depending on language.</p>
<p>The smallest one is <strong>javascrpt</strong>, because javascipt is natively supported by the browser. However others languages like python and typescript need some complied webassembly runtime to be loaded first.</p>
<p>So the loading option is <strong>lazy</strong> and all lanugages are disabled by default. Also, most of the examples in this docs are using <strong>javascript</strong> by default to make the loading time faster.</p>
<p>Below is the relative size of the extra needed runtime for each language:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Language</th><th style="text-align: left">Size</th></tr></thead><tbody>
<tr><td style="text-align: left">Python</td><td style="text-align: left">5.5MB</td></tr>
<tr><td style="text-align: left">TypeScript</td><td style="text-align: left">718kb</td></tr>
<tr><td style="text-align: left">JavaScript</td><td style="text-align: left">0</td></tr>
</tbody></table>
</div><!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="limitations"><a class="header" href="#limitations">Limitations</a></h1>
<p>There are some limitations when using this playground, because of the nature of the technologies used in this playground. So, don't expect to use this playground as a full-featured IDE.</p>
<p>The best usage of this playground is to test and learn programming languages for educational purposes, not for production.</p>
<p>If you find any other issues, don't hesitate to report it to the <a href="https://github.com/MR-Addict/mdbook-repl">GitHub repository</a>.</p>
<p><strong>User input</strong></p>
<p>For example, you can not use the <strong>input</strong> function to get user input in python. Though it is possible to play arround to make user input work, but it's not worth it. The following code won't work:</p>
<div class="repl" data-id="4cb2afb5-1ebd-4fc5-9f79-95c8d2cbdd00" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python"># This will not work

input('Enter your name: ')
</code></pre>
<p><strong>Interrupt</strong></p>
<p>And now there is also no easy way for <strong>interrupt</strong> your code, so don't write bad code!!</p>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><h1 id="for-developers"><a class="header" href="#for-developers">For Developers</a></h1>
<p>Actually, you can use repl in your own web project other than <strong>mdbook</strong>. What <strong>mdbook-repl</strong> does is to preprocess your markdown code blocks and replace them with some js and css.</p>
<p>The core of <strong>mdbook-repl</strong> is the iframe. The iframe is used to display the output of the code. The js and css are used to communicate with the iframe.</p>
<p>The iframe url is <a href="https://mr-addict.github.io/mdbook-repl/embed/">https://mr-addict.github.io/mdbook-repl/embed/</a>. You can also deploy the iframe in your own server. You can find the source code of the iframe in the <a href="https://github.com/MR-Addict/mdbook-repl/tree/gh-pages/embed">github repository</a>.</p>
<h2 id="api"><a class="header" href="#api">API</a></h2>
<p>When the iframe is loaded, it will send a message to the parent window. The message is a json string. The json object has the following properties:</p>
<pre><code class="language-json">{
  "repl": {
    "id": "",
    "dimensions": {
      "width": 800,
      "height": 600
    },
    "editor": {
      "readonly": false,
      "theme": "light",
      "language": "python",
      "code": "# This is a default python code\n\nprint('Hello world')",
      "defaultCode": "# This is a default python code\n\nprint('Hello world')"
    },
    "output": {
      "data": [],
      "status": "loading"
    }
  }
}
</code></pre>
<p>What you should do fist is to send some basic information to the iframe including <strong>id</strong> and <strong>editor</strong> data. The <strong>id</strong> is used to identify the editor if you have more that one iframes in you page. The id is empty at first. When new information updated, id will be sent with it. The <strong>editor</strong> information is used to initialize the editor.</p>
<p>The <strong>dimensions</strong> is used to set the width and height of the iframe. The <strong>output</strong> data is used to display the output of the code. The <strong>status</strong> can be <strong>idle</strong>, <strong>loading</strong>, <strong>running</strong> or <strong>finished</strong>. The <strong>data</strong> is an array of objects. Each object has a <strong>color</strong> and <strong>msg</strong>. The <strong>color</strong> is used to set the color of the message which can be <strong>normal</strong> or <strong>red</strong>. The <strong>msg</strong> is used to display the message.</p>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>Here is an example of how to use the <strong>mdbook-repl</strong> in your own project:</p>
<pre><code class="language-html">&lt;style&gt;
  iframe {
    border: none;
    width: 100%;
  }
&lt;/style&gt;
&lt;iframe src="http://localhost:4173/" width="100%" allow="clipboard-write"&gt;&lt;/iframe&gt;
&lt;script&gt;
  const id = "ac2f5a2";
  const lang = "python";
  const theme = "light";
  const readonly = false;
  const code = "# Python\n\nprint('Hello world')";

  const iframe = document.querySelector("iframe");

  const postmessage = (msg) =&gt; iframe.contentWindow.postMessage({ repl: msg }, "*");

  window.addEventListener("message", (event) =&gt; {
    const replData = event.data.repl;
    if (event.source === window || !replData) return;

    // if the id is empty, then it's the first time the iframe is loaded
    if (replData.id === "") {
      postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
      return;
    }

    if (replData.id !== id) return;

    // update the iframe height
    iframe.style.height = replData.dimensions.height + "px";
  });
&lt;/script&gt;
</code></pre>
<blockquote>
<p>💥 Attention</p>
<p>You need to add <code>allow="clipboard-write"</code> to the iframe to make the clipboard work.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="python"><a class="header" href="#python">Python</a></h1>
<p>Python is a programming language that lets you work quickly and integrate systems more effectively . It's easy to learn and use.</p>
<p>This playground uses <a href="https://github.com/pyodide/pyodide">pyodide</a> to run python code in the browser. You can check the version by running the following code:</p>
<div class="repl" data-id="f67cac61-2014-4817-a5ad-eb132bb04b6c" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">import sys

print(sys.version)
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="examples"><a class="header" href="#examples">Examples</a></h1>
<p>Here are some basic examples of using Python that you can do in this playground.</p>
<h2 id="basic-example"><a class="header" href="#basic-example">Basic Example</a></h2>
<div class="repl" data-id="71871273-8885-4a6a-8395-1378c76a1372" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">message = "Hello, world!"

print(message)
</code></pre>
<h2 id="example-with-function"><a class="header" href="#example-with-function">Example with Function</a></h2>
<div class="repl" data-id="0d58b271-9908-48ec-b8ca-ed8bf05be269" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">def greet(name):
    return "Hello, " + name

print(greet("world"))
</code></pre>
<h2 id="example-with-class"><a class="header" href="#example-with-class">Example with Class</a></h2>
<div class="repl" data-id="9c976b36-0075-4be7-87df-de1205068546" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">class Greeter:
    def __init__(self, name):
        self.name = name

    def greet(self):
        return "Hello, " + self.name

g = Greeter("world")
print(g.greet())
</code></pre>
<h2 id="example-with-list-comprehension"><a class="header" href="#example-with-list-comprehension">Example with List Comprehension</a></h2>
<div class="repl" data-id="0279cc18-cfe5-45ab-9ad6-d3540b2ec064" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">squares = [x * x for x in range(10)]

print(squares)
</code></pre>
<h2 id="example-with-asyncawait"><a class="header" href="#example-with-asyncawait">Example with async/await:</a></h2>
<div class="repl" data-id="509f5f10-8e40-4815-9b76-24cf0adc498b" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">import asyncio

async def delay(ms):
    await asyncio.sleep(ms / 1000)

async def main():
    print("Start")
    await delay(1000)
    print("End")

await main()
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="packages"><a class="header" href="#packages">Packages</a></h1>
<p>There are many built-in <a href="https://pyodide.org/en/stable/usage/packages-in-pyodide.html">packages</a> available in pyodide. You should have a look at the list of packages before you use them.</p>
<p>For example, you can use <strong>regex</strong> pakcage to match a pattern in a string:</p>
<div class="repl" data-id="51242f07-a915-4cab-a5f5-9ca7a99a709e" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">import regex

pattern = r'(\d{4})-(\d{2})-(\d{2})'

match = regex.match(pattern, '2022-12-31')

print(match.groups())
</code></pre>
<p>It may take some time when you first import a package, but after that, it should be faster.</p>
<p>And here is another example of using <strong>numpy</strong> package to calculate the mean of a list of numbers:</p>
<div class="repl" data-id="3f86e435-267f-447f-9b6f-6b5d19b6ccb5" data-readonly="false" data-lang="python">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-python-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-python">import numpy as np

numbers = [1, 2, 3, 4, 5]

mean = np.mean(numbers)

print(mean)
</code></pre>
<blockquote>
<p>Attention 💥</p>
<p>Some of the packages may not work as expected due to the limitations of browser environment.</p>
</blockquote>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="typescript"><a class="header" href="#typescript">Typescript</a></h1>
<p>Typescript is a superset of JavaScript that adds static typing to the language. Though you can run javascript code in the browser, but you need to compile typescript to javascript first. Then you can run the compiled javascript code in the browser.</p>
<p>This playground uses <a href="https://babeljs.io/docs/babel-standalone.html">babel/standalone</a> in service worker to compile typescript code to javascript and then execute compiled javascript code to get the result.</p>
<div class="repl" data-id="5dc0f8c0-fa12-47de-8a61-3b92e3c60713" data-readonly="false" data-lang="typescript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-typescript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-typescript">let message: string = "Hello, world!";

console.log(message);
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="examples-1"><a class="header" href="#examples-1">Examples</a></h1>
<p>Here are some basic examples of using TypeScript that you can do in this playground.</p>
<h2 id="basic-example-1"><a class="header" href="#basic-example-1">Basic Example</a></h2>
<div class="repl" data-id="b53b2803-9981-4f5c-be56-64f48ae18243" data-readonly="false" data-lang="typescript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-typescript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-typescript">let message: string = "Hello, world!";

console.log(message);
</code></pre>
<h2 id="example-with-function-1"><a class="header" href="#example-with-function-1">Example with Function</a></h2>
<div class="repl" data-id="fe1d05aa-13b1-40a7-903f-84596caa53fb" data-readonly="false" data-lang="typescript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-typescript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-typescript">function greet(name: string) {
  return "Hello, " + name;
}

console.log(greet("world"));
</code></pre>
<h2 id="example-with-interface"><a class="header" href="#example-with-interface">Example with Interface</a></h2>
<div class="repl" data-id="25d541ed-b2ec-4fc5-8942-ace870db3edc" data-readonly="false" data-lang="typescript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-typescript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-typescript">interface Person {
  first: string;
  last: string;
}

function greeter(person: Person) {
  return "Hello, " + person.first + " " + person.last;
}

console.log(greeter({ first: "Jane", last: "Doe" }));
</code></pre>
<h2 id="asyncawait"><a class="header" href="#asyncawait">async/await:</a></h2>
<div class="repl" data-id="3833a0ad-9cb7-4514-a3d6-9c62d049d943" data-readonly="false" data-lang="typescript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-typescript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-typescript">async function delay(ms: number) {
  return new Promise((resolve) =&gt; setTimeout(resolve, ms));
}

async function main() {
  console.log("Start");
  await delay(1000);
  console.log("End");
}

main();
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="javascript"><a class="header" href="#javascript">Javascript</a></h1>
<p>Javascript is a programming language that is used to make web pages interactive. Browser is able to run javascript code directly. But the repl code still exected in service worker to prevent the page from freezing.</p>
<div class="repl" data-id="c01bd569-9a79-4628-be16-5e75de3d9d9e" data-readonly="false" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">let message = "Hello, world!";

console.log(message);
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="examples-2"><a class="header" href="#examples-2">Examples</a></h1>
<p>Here are some basic examples of using JavaScript that you can do in this playground.</p>
<h2 id="basic-example-2"><a class="header" href="#basic-example-2">Basic Example</a></h2>
<div class="repl" data-id="82917df5-b680-4f6a-99c0-104cba5d8514" data-readonly="false" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">let message = "Hello, world!";

console.log(message);
</code></pre>
<h2 id="example-with-function-2"><a class="header" href="#example-with-function-2">Example with Function</a></h2>
<div class="repl" data-id="907a93bb-af1b-42b8-bbc9-d1a0c20dec35" data-readonly="false" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">function greet(name) {
  return "Hello, " + name;
}

console.log(greet("world"));
</code></pre>
<h2 id="example-with-class-1"><a class="header" href="#example-with-class-1">Example with Class</a></h2>
<div class="repl" data-id="835d3871-d07a-4be3-83fc-95e97f45512b" data-readonly="false" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">class Greeter {
  constructor(name) {
    this.name = name;
  }

  greet() {
    return "Hello, " + this.name;
  }
}

let g = new Greeter("world");
console.log(g.greet());
</code></pre>
<h2 id="example-with-array"><a class="header" href="#example-with-array">Example with Array</a></h2>
<div class="repl" data-id="25746950-b96b-4ab9-81f8-17a11596f32a" data-readonly="false" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">let squares = Array.from({ length: 10 }, (_, i) =&gt; i * i);

console.log(squares);
</code></pre>
<h2 id="example-with-asyncawait-1"><a class="header" href="#example-with-asyncawait-1">Example with async/await:</a></h2>
<div class="repl" data-id="ab225c37-00a9-42a2-9d6a-a1e6210f481a" data-readonly="false" data-lang="javascript">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-javascript-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-javascript">async function delay(ms) {
  await new Promise((resolve) =&gt; setTimeout(resolve, ms));
}

async function main() {
  console.log("Start");
  await delay(1000);
  console.log("End");
}

main();
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="lua"><a class="header" href="#lua">Lua</a></h1>
<p>Lua is a programming language that lets you work quickly and integrate systems more effectively . It's easy to learn and use.</p>
<p>This playground uses <a href="https://github.com/ceifa/wasmoon">wasmoon</a> to run lua code in the browser. You can check the version by running the following code:</p>
<div class="repl" data-id="63ebf46f-2842-4202-8663-897b9ae40125" data-readonly="false" data-lang="lua">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-lua-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-lua">print(_VERSION)
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>
<div style="break-before: page; page-break-before: always;"></div><!-- Custom REPL Style -->
<style>
  .repl {
    margin-block: 2rem;
    position: relative;
    isolation: isolate;
  }
  .repl iframe {
    width: 100%;
    height: 100%;
    border: none;
  }
  .repl iframe.hide {
    top: 0;
    left: 0;
    opacity: 0;
    position: absolute;
    pointer-events: none;
    z-index: -1;
  }
</style>
<h1 id="examples-3"><a class="header" href="#examples-3">Examples</a></h1>
<p>Here are some basic examples of using Lua that you can do in this playground.</p>
<h2 id="basic-example-3"><a class="header" href="#basic-example-3">Basic Example</a></h2>
<div class="repl" data-id="c7091bdc-f03a-44f4-8471-8716544e45c8" data-readonly="false" data-lang="lua">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-lua-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-lua">message = "Hello, world!"

print(message)
</code></pre>
<h2 id="example-with-function-3"><a class="header" href="#example-with-function-3">Example with Function</a></h2>
<div class="repl" data-id="f24489dc-a138-45ff-85bc-dc7e63b4ca0b" data-readonly="false" data-lang="lua">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-lua-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-lua">function greet(name)
    return "Hello, " .. name
end

print(greet("world"))
</code></pre>
<h2 id="example-with-list-comprehension-1"><a class="header" href="#example-with-list-comprehension-1">Example with List Comprehension</a></h2>
<div class="repl" data-id="841386cb-101a-4afd-a940-6686af160121" data-readonly="false" data-lang="lua">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-lua-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-lua">squares = {}
for x = 0, 9 do
    squares[x] = x * x
end

print(table.concat(squares,", "))
</code></pre>
<h2 id="example-with-coroutine"><a class="header" href="#example-with-coroutine">Example with coroutine:</a></h2>
<div class="repl" data-id="7102874d-8abd-4393-9dd5-1fea8f4b1802" data-readonly="false" data-lang="lua">
  <iframe
    class="hide"
    loading="lazy"
    name="mdbook-lua-repl"
    allow="clipboard-write; fullscreen"
    src="https://mr-addict.github.io/mdbook-repl/embed/"
  ></iframe>
</div>
<pre><code class="language-lua">co1 = coroutine.create(function ()
    for i=1,5 do
        coroutine.resume(co2)
        print("First coroutine")
    end
end)

co2 = coroutine.create(function ()
    for i=1,5 do
        print("Second coroutine")
        coroutine.yield()
    end
end)

coroutine.resume(co1)
</code></pre>
<!-- Custom REPL Script -->
<script>
  document.querySelectorAll(".repl").forEach((replElement) => {
    const iframeElement = replElement.querySelector("iframe");
    const id = replElement.getAttribute("data-id");
    const lang = replElement.getAttribute("data-lang");
    const code = getCode(replElement.nextElementSibling);
    const readonly = replElement.getAttribute("data-readonly") === "true";
    let theme = mapTheme(localStorage.getItem("mdbook-theme") || document.querySelector(".theme.theme-selected")?.id);
    const postmessage = (msg) => iframeElement.contentWindow.postMessage({ repl: msg }, "*");
    function mapTheme(bookTheme) {
      return bookTheme === "light" || bookTheme === "rust" ? "light" : "dark";
    }
    function getCode(element) {
      // remove all the boring elements
      const code = element.cloneNode(true);
      code.querySelectorAll(".boring").forEach((boring) => boring.remove());
      return code.innerText.trim();
    }
    window.addEventListener("message", (event) => {
      const repl = event.data.repl;
      if (event.source === window || !repl) return;
      // if the id is empty, then it's the first time the iframe is loaded
      if (repl.id === "") {
        postmessage({ id, editor: { theme, lang, code, readonly, defaultCode: code } });
        return;
      }
      if (repl.id !== id) return;
      // update the iframe height
      replElement.style.height = repl.dimensions.height + "px";
      // show the iframe and hide the pre element
      iframeElement.classList.remove("hide");
      replElement.nextElementSibling.style.display = "none";
    });
    // listen to theme change
    document.querySelectorAll("button[role='menuitem'].theme").forEach((btn) => {
      btn.addEventListener("click", (event) => {
        theme = mapTheme(event.target.id);
        postmessage({ id, editor: { theme } });
      });
    });
  });
</script>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
